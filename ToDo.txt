NaN, Infinityにも対応する
剰余にも対応する
エラーハンドリングもっとすっきりさせる